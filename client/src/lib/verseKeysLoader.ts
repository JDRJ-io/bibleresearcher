// DEPRECATED: Use BibleDataAPI.loadVerseKeys() directly instead

console.warn('‚ö†Ô∏è verseKeysLoader.ts is deprecated. Use BibleDataAPI.loadVerseKeys() directly.');

export const loadVerseKeys = async () => {
  console.warn('‚ö†Ô∏è loadVerseKeys is deprecated. Use BibleDataAPI.loadVerseKeys() instead.');
  const { loadVerseKeys: apiLoadVerseKeys } = await import('@/data/BibleDataAPI');
  return apiLoadVerseKeys();
};

export async function loadVerseKeysCanonical(): Promise<string[]> {
  console.warn('‚ö†Ô∏è loadVerseKeysCanonical is deprecated. Use BibleDataAPI.loadVerseKeys() instead.');
  const { loadVerseKeys: apiLoadVerseKeys } = await import('@/data/BibleDataAPI');
  return apiLoadVerseKeys('canonical');
}

export function getVerseKeyByIndex(index: number): string {
  console.warn('‚ö†Ô∏è getVerseKeyByIndex is deprecated.');
  return `Unknown.${index}:1`;
}

/**
 * Create verse objects from verse keys
 * This creates the skeleton structure that other data plugs into
 */
export function createVerseObjectsFromKeys(verseKeys: string[]): BibleVerse[] {
  console.log("üèóÔ∏è Creating verse objects from master key index...");

  const verses: BibleVerse[] = verseKeys.map((key, index) => {
    const [bookChapter, verseNum] = key.split(':');
    const [book, chapter] = bookChapter.split('.');

    return {
      id: `${book.toLowerCase()}-${chapter}-${verseNum}-${index}`,
      index: index,
      book: book,
      chapter: parseInt(chapter),
      verse: parseInt(verseNum),
      reference: key.replace('.', ' '), // Convert Gen.1:1 to Gen 1:1
      text: {}, // Empty - text will be loaded on demand
      crossReferences: [],
      strongsWords: [],
      labels: [],
      contextGroup: "standard"
    };
  });

  console.log(`üèóÔ∏è Created ${verses.length} verse objects from key index`);
  return verses;
}

/**
 * Helper functions for VirtualBibleTable compatibility
 */
export function getVerseCount(): number {
  console.warn('‚ö†Ô∏è getVerseCount is deprecated.');
  return 31102; // Expected total verse count
}

export function getVerseKeys(): string[] {
  console.warn('‚ö†Ô∏è getVerseKeys is deprecated.');
  return [];
}

export async function loadVerseKeysChronological(): Promise<string[]> {
  console.warn('‚ö†Ô∏è loadVerseKeysChronological is deprecated. Use BibleDataAPI.loadVerseKeys() instead.');
  const { loadVerseKeys: apiLoadVerseKeys } = await import('@/data/BibleDataAPI');
  return apiLoadVerseKeys('chronological');
}