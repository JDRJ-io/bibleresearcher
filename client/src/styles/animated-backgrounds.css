/**
 * Animated Background System - Theme Pack v1
 * Performance-optimized, accessibility-aware background animations
 * Auto-disables on mobile and prefers-reduced-motion
 */

/* Base animation settings */
@media (prefers-reduced-motion: no-preference) and (min-width: 768px) {
  
  /* ==============================
     WAVES BACKGROUND (Light, Eden)
     ============================== */
  
  .bg-waves {
    background:
      /* layered gradient waves */
      radial-gradient(150% 120% at 50% 100%, color-mix(in oklab, var(--bg-primary), #cef 8%) 0%, transparent 60%),
      radial-gradient(120% 100% at 80% 0%, color-mix(in oklab, var(--bg-secondary), #bdf 12%) 0%, transparent 50%),
      radial-gradient(100% 140% at 20% 0%, color-mix(in oklab, var(--bg-primary), #aef 6%) 0%, transparent 70%),
      var(--bg-primary);
    background-blend-mode: soft-light, overlay, normal, normal;
    animation: wave-flow var(--anim-speed, 20s) ease-in-out infinite alternate;
  }

  @keyframes wave-flow {
    0% {
      background-position: 50% 100%, 80% 0%, 20% 0%, 0 0;
      filter: brightness(1) saturate(1);
    }
    50% {
      background-position: 48% 105%, 85% -5%, 15% 5%, 0 0;
      filter: brightness(1.02) saturate(1.05);
    }
    100% {
      background-position: 52% 95%, 75% 5%, 25% -5%, 0 0;
      filter: brightness(1.01) saturate(1.02);
    }
  }

  /* ==============================
     AURORA BACKGROUND (Dark, Voodoo Blue, Royal)
     ============================== */
  
  .bg-aurora {
    background:
      /* northern lights effect */
      radial-gradient(100% 60% at 30% 120%, var(--aurora-1, #20415f) 0%, transparent 70%),
      radial-gradient(80% 80% at 80% -20%, var(--aurora-2, #1a3355) 0%, transparent 60%),
      radial-gradient(120% 100% at 60% 150%, var(--aurora-3, #0d2238) 0%, transparent 80%),
      var(--bg-primary);
    background-blend-mode: screen, multiply, overlay, normal;
    animation: aurora-dance var(--anim-speed, 28s) ease-in-out infinite alternate;
  }

  @keyframes aurora-dance {
    0% {
      background-position: 30% 120%, 80% -20%, 60% 150%, 0 0;
      filter: hue-rotate(0deg) saturate(1);
    }
    33% {
      background-position: 25% 125%, 85% -15%, 65% 145%, 0 0;
      filter: hue-rotate(5deg) saturate(1.08);
    }
    66% {
      background-position: 35% 115%, 75% -25%, 55% 155%, 0 0;
      filter: hue-rotate(-3deg) saturate(1.12);
    }
    100% {
      background-position: 28% 118%, 82% -18%, 62% 148%, 0 0;
      filter: hue-rotate(2deg) saturate(1.05);
    }
  }

  /* ==============================
     STARS BACKGROUND (Midnight)
     ============================== */
  
  .bg-stars {
    background:
      /* subtle starfield */
      radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,0.8) 0%, transparent 50%),
      radial-gradient(1px 1px at 40% 70%, rgba(255,255,255,0.6) 0%, transparent 50%),
      radial-gradient(1px 1px at 80% 10%, rgba(255,255,255,0.7) 0%, transparent 50%),
      radial-gradient(2px 2px at 90% 80%, rgba(255,255,255,0.5) 0%, transparent 50%),
      radial-gradient(1px 1px at 10% 90%, rgba(255,255,255,0.6) 0%, transparent 50%),
      var(--bg-primary);
    background-size: 200px 200px, 150px 150px, 180px 180px, 220px 220px, 160px 160px, 100% 100%;
    animation: star-twinkle var(--anim-speed, 60s) linear infinite;
  }

  @keyframes star-twinkle {
    0% {
      background-position: 0% 0%, 0% 0%, 0% 0%, 0% 0%, 0% 0%, 0 0;
      opacity: 1;
    }
    50% {
      background-position: 50% 50%, -25% 25%, 25% -25%, 50% 0%, -10% 50%, 0 0;
      opacity: 0.95;
    }
    100% {
      background-position: 100% 100%, -50% 50%, 50% -50%, 100% 0%, -20% 100%, 0 0;
      opacity: 1;
    }
  }

  /* ==============================
     BOKEH BACKGROUND (Sepia)
     ============================== */
  
  .bg-bokeh {
    background:
      /* warm paper texture with light orbs */
      radial-gradient(120px 120px at 25% 25%, color-mix(in oklab, var(--accent-color), transparent 75%) 0%, transparent 70%),
      radial-gradient(80px 80px at 75% 60%, color-mix(in oklab, var(--accent-color), transparent 80%) 0%, transparent 70%),
      radial-gradient(100px 100px at 60% 85%, color-mix(in oklab, var(--accent-color), transparent 85%) 0%, transparent 70%),
      radial-gradient(60px 60px at 15% 70%, color-mix(in oklab, var(--accent-color), transparent 78%) 0%, transparent 70%),
      var(--bg-primary);
    background-blend-mode: soft-light, overlay, multiply, screen, normal;
    animation: bokeh-drift var(--anim-speed, 34s) ease-in-out infinite alternate;
  }

  @keyframes bokeh-drift {
    0% {
      background-position: 25% 25%, 75% 60%, 60% 85%, 15% 70%, 0 0;
      filter: blur(0px) brightness(1);
    }
    50% {
      background-position: 30% 30%, 70% 55%, 65% 80%, 20% 75%, 0 0;
      filter: blur(0.5px) brightness(1.03);
    }
    100% {
      background-position: 20% 20%, 80% 65%, 55% 90%, 10% 65%, 0 0;
      filter: blur(0px) brightness(1.01);
    }
  }

  /* ==============================
     GRADIENT SHIFT BACKGROUND (Sunset)
     ============================== */
  
  .bg-gradient-shift {
    background:
      /* sunset gradient animation */
      linear-gradient(135deg,
        var(--grad-a, #ffb56b) 0%,
        var(--grad-b, #f3904f) 40%,
        var(--grad-c, #e16b5c) 100%
      ),
      radial-gradient(circle at 30% 80%, color-mix(in oklab, var(--grad-a, #ffb56b), transparent 40%) 0%, transparent 60%),
      var(--bg-primary);
    background-blend-mode: overlay, soft-light, normal;
    animation: gradient-breathe var(--anim-speed, 24s) ease-in-out infinite alternate;
  }

  @keyframes gradient-breathe {
    0% {
      background-position: 0% 0%, 30% 80%, 0 0;
      filter: saturate(1) brightness(1);
    }
    50% {
      background-position: 100% 100%, 35% 75%, 0 0;
      filter: saturate(1.08) brightness(1.02);
    }
    100% {
      background-position: 0% 0%, 25% 85%, 0 0;
      filter: saturate(1.04) brightness(1.01);
    }
  }

  /* ==============================
     HOLOGRAPHIC BACKGROUND
     ============================== */

  .bg-hologram {
    /* multi-layered iridescent sheen */
    background:
      /* soft base */
      radial-gradient(120% 80% at 50% 100%, color-mix(in oklab, var(--bg-primary), #000 5%) 0%, transparent 70%),
      /* iridescent film */
      conic-gradient(from 180deg at 50% 50%,
        color-mix(in oklab, var(--holo-a, #b1f2ff), transparent calc((1 - var(--holo-sheen, 0.55)) * 100%)) 0deg,
        color-mix(in oklab, var(--holo-b, #ffc8f0), transparent calc((1 - var(--holo-sheen, 0.55)) * 100%)) 90deg,
        color-mix(in oklab, var(--holo-c, #c3ff9e), transparent calc((1 - var(--holo-sheen, 0.55)) * 100%)) 180deg,
        color-mix(in oklab, var(--holo-d, #c9c8ff), transparent calc((1 - var(--holo-sheen, 0.55)) * 100%)) 270deg,
        color-mix(in oklab, var(--holo-a, #b1f2ff), transparent calc((1 - var(--holo-sheen, 0.55)) * 100%)) 360deg
      ),
      /* soft glare sweeps */
      linear-gradient(120deg,
        color-mix(in oklab, var(--holo-a, #b1f2ff), transparent 85%) 0%,
        transparent 40%,
        color-mix(in oklab, var(--holo-b, #ffc8f0), transparent 85%) 60%,
        transparent 100%
      ),
      var(--bg-primary);
    background-blend-mode: screen, screen, overlay, normal;
    filter: saturate(1.05);
    animation: holo-shift var(--anim-speed, 26s) ease-in-out infinite alternate;
  }

  @keyframes holo-shift {
    0% {
      transform: translateZ(0); /* keep on GPU */
      background-position: 50% 100%, 50% 50%, 0% 0%, 0 0;
      filter: hue-rotate(0deg) saturate(1.05) brightness(1);
    }
    50% {
      background-position: 52% 98%, 48% 52%, 10% 0%, 0 0;
      filter: hue-rotate(12deg) saturate(1.08) brightness(1.03);
    }
    100% {
      background-position: 48% 102%, 52% 48%, -8% 0%, 0 0;
      filter: hue-rotate(-8deg) saturate(1.06) brightness(1.02);
    }
  }

}

/* Mobile fallback - static backgrounds only */
@media (max-width: 767px) {
  .bg-waves,
  .bg-aurora,
  .bg-stars,
  .bg-bokeh,
  .bg-gradient-shift,
  .bg-hologram {
    background: var(--bg-primary) !important;
    animation: none !important;
  }
}

/* Accessibility - respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .bg-waves,
  .bg-aurora,
  .bg-stars,
  .bg-bokeh,
  .bg-gradient-shift,
  .bg-hologram {
    animation: none !important;
    filter: none !important;
  }
}