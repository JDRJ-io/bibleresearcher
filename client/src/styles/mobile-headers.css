/* Mobile Column Header Positioning - Direct Solution */

/* Top header heights */
:root {
  --top-header-height-desktop: 64px;
  --top-header-height-mobile: 48px;
  --column-header-height: 36px;
}

/* Create the exact positioning we need */
@media (max-width: 640px) {
  /* Position column headers in the exact spot below top header */
  .column-headers-container {
    position: absolute !important;
    top: var(--top-header-height-mobile) !important;
    left: 0 !important;
    right: 0 !important;
    width: 100vw !important;
    height: var(--column-header-height) !important;
    z-index: 45 !important;
    background: white !important;
    border-bottom: 1px solid #e5e7eb !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1) !important;
  }

  /* Dark mode support */
  .dark .column-headers-container {
    background: #1f2937 !important;
    border-bottom-color: #374151 !important;
  }

  /* Ensure the virtual table content starts below the headers */
  .virtual-bible-table {
    padding-top: calc(var(--top-header-height-mobile) + var(--column-header-height)) !important;
    margin-top: 0 !important;
  }

  /* Position the bible table wrapper to account for fixed headers */
  .bible-table-wrapper {
    padding-top: 0 !important;
    margin-top: 0 !important;
    height: calc(100vh - var(--top-header-height-mobile) - var(--column-header-height)) !important;
  }

  /* Remove any unwanted spacing from parent containers */
  .virtual-bible-table,
  .bible-table-wrapper,
  [data-testid="bible-table"] {
    margin: 0 !important;
    padding-bottom: 0 !important;
  }

  /* Ensure header cells are properly sized */
  .column-headers-container > div {
    height: var(--column-header-height) !important;
    display: flex !important;
    align-items: center !important;
  }

  /* Header cell styling */
  .column-headers-container .flex-shrink-0 {
    height: var(--column-header-height) !important;
    border-right: 1px solid #e5e7eb !important;
    font-weight: 600 !important;
    font-size: 0.75rem !important;
    line-height: 1 !important;
  }

  .dark .column-headers-container .flex-shrink-0 {
    border-right-color: #374151 !important;
  }
}

/* Desktop positioning */
@media (min-width: 641px) {
  .column-headers-container {
    position: absolute !important;
    top: var(--top-header-height-desktop) !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    height: var(--column-header-height) !important;
    z-index: 45 !important;
    background: white !important;
    border-bottom: 1px solid #e5e7eb !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1) !important;
  }

  .dark .column-headers-container {
    background: #1f2937 !important;
    border-bottom-color: #374151 !important;
  }

  .virtual-bible-table {
    padding-top: calc(var(--top-header-height-desktop) + var(--column-header-height)) !important;
  }

  .bible-table-wrapper {
    height: calc(100vh - var(--top-header-height-desktop) - var(--column-header-height)) !important;
  }
}

/* Force override any conflicting styles */
.column-headers-container.sticky,
.column-headers-container[style*="position"] {
  position: absolute !important;
}