/**
 * Dynamic Background System
 * Creates beautiful, animated backgrounds that show through glass morphism effects
 * Supports theme-aware gradients and subtle animations
 */

/* Root element setup for dynamic backgrounds */
html {
  min-height: 100vh;
  background-attachment: fixed;
}

/* Dynamic background container */
.dynamic-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -10;
  overflow: hidden;
  transition: opacity 0.5s ease;
}

/* Light theme dynamic backgrounds */
:root.light .dynamic-background {
  background: linear-gradient(
    135deg,
    hsl(210, 100%, 98%) 0%,
    hsl(220, 100%, 95%) 25%,
    hsl(200, 100%, 97%) 50%,
    hsl(180, 100%, 98%) 75%,
    hsl(210, 100%, 99%) 100%
  );
  animation: lightThemeShift 20s ease-in-out infinite;
}

/* Dark theme dynamic backgrounds */
:root.dark .dynamic-background {
  background: linear-gradient(
    135deg,
    hsl(220, 20%, 8%) 0%,
    hsl(230, 25%, 12%) 25%,
    hsl(210, 30%, 9%) 50%,
    hsl(240, 20%, 11%) 75%,
    hsl(220, 25%, 10%) 100%
  );
  animation: darkThemeShift 25s ease-in-out infinite;
}

/* Subtle animation for light theme */
@keyframes lightThemeShift {
  0%, 100% {
    background: linear-gradient(
      135deg,
      hsl(210, 100%, 98%) 0%,
      hsl(220, 100%, 95%) 25%,
      hsl(200, 100%, 97%) 50%,
      hsl(180, 100%, 98%) 75%,
      hsl(210, 100%, 99%) 100%
    );
  }
  25% {
    background: linear-gradient(
      145deg,
      hsl(200, 100%, 98%) 0%,
      hsl(210, 100%, 96%) 25%,
      hsl(190, 100%, 97%) 50%,
      hsl(220, 100%, 98%) 75%,
      hsl(200, 100%, 99%) 100%
    );
  }
  50% {
    background: linear-gradient(
      155deg,
      hsl(190, 100%, 98%) 0%,
      hsl(200, 100%, 95%) 25%,
      hsl(180, 100%, 98%) 50%,
      hsl(210, 100%, 97%) 75%,
      hsl(190, 100%, 99%) 100%
    );
  }
  75% {
    background: linear-gradient(
      125deg,
      hsl(220, 100%, 98%) 0%,
      hsl(190, 100%, 96%) 25%,
      hsl(210, 100%, 97%) 50%,
      hsl(180, 100%, 98%) 75%,
      hsl(220, 100%, 99%) 100%
    );
  }
}

/* Subtle animation for dark theme */
@keyframes darkThemeShift {
  0%, 100% {
    background: linear-gradient(
      135deg,
      hsl(220, 20%, 8%) 0%,
      hsl(230, 25%, 12%) 25%,
      hsl(210, 30%, 9%) 50%,
      hsl(240, 20%, 11%) 75%,
      hsl(220, 25%, 10%) 100%
    );
  }
  33% {
    background: linear-gradient(
      165deg,
      hsl(210, 25%, 8%) 0%,
      hsl(220, 20%, 13%) 25%,
      hsl(200, 30%, 9%) 50%,
      hsl(230, 25%, 11%) 75%,
      hsl(210, 20%, 10%) 100%
    );
  }
  66% {
    background: linear-gradient(
      195deg,
      hsl(200, 30%, 8%) 0%,
      hsl(210, 25%, 12%) 25%,
      hsl(190, 20%, 10%) 50%,
      hsl(220, 30%, 11%) 75%,
      hsl(200, 25%, 9%) 100%
    );
  }
}

/* Enhanced backgrounds for special occasions or themes */
.dynamic-background.enhanced {
  opacity: 0.7;
}

/* Light theme enhanced */
:root.light .dynamic-background.enhanced {
  background: linear-gradient(
    135deg,
    hsl(45, 100%, 96%) 0%,
    hsl(60, 100%, 98%) 20%,
    hsl(200, 100%, 96%) 40%,
    hsl(280, 100%, 98%) 60%,
    hsl(320, 100%, 97%) 80%,
    hsl(45, 100%, 98%) 100%
  );
  animation: enhancedLightShift 30s ease-in-out infinite;
}

/* Dark theme enhanced */
:root.dark .dynamic-background.enhanced {
  background: linear-gradient(
    135deg,
    hsl(260, 30%, 6%) 0%,
    hsl(280, 25%, 8%) 20%,
    hsl(200, 35%, 7%) 40%,
    hsl(320, 30%, 9%) 60%,
    hsl(240, 25%, 8%) 80%,
    hsl(260, 30%, 7%) 100%
  );
  animation: enhancedDarkShift 35s ease-in-out infinite;
}

@keyframes enhancedLightShift {
  0%, 100% { filter: hue-rotate(0deg) saturate(100%); }
  50% { filter: hue-rotate(20deg) saturate(110%); }
}

@keyframes enhancedDarkShift {
  0%, 100% { filter: hue-rotate(0deg) saturate(120%); }
  50% { filter: hue-rotate(-15deg) saturate(130%); }
}

/* Floating particles effect (optional enhancement) */
.dynamic-background::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
    radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 300px 300px, 400px 400px, 500px 500px;
  animation: floatParticles 60s linear infinite;
  pointer-events: none;
}

:root.dark .dynamic-background::before {
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
}

@keyframes floatParticles {
  0% { transform: translateY(0) translateX(0); }
  25% { transform: translateY(-20px) translateX(10px); }
  50% { transform: translateY(0) translateX(-10px); }
  75% { transform: translateY(20px) translateX(5px); }
  100% { transform: translateY(0) translateX(0); }
}

/* Performance optimizations */
@media (prefers-reduced-motion: reduce) {
  .dynamic-background,
  .dynamic-background::before {
    animation: none !important;
  }
  
  .dynamic-background {
    background: var(--bg-primary, hsl(0, 0%, 100%));
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .dynamic-background {
    /* Simpler gradients for mobile performance */
    animation-duration: 40s;
  }
  
  .dynamic-background::before {
    display: none; /* Disable particles on mobile */
  }
  
  :root.light .dynamic-background {
    background: linear-gradient(
      135deg,
      hsl(210, 100%, 98%) 0%,
      hsl(200, 100%, 97%) 50%,
      hsl(210, 100%, 99%) 100%
    );
  }
  
  :root.dark .dynamic-background {
    background: linear-gradient(
      135deg,
      hsl(220, 20%, 8%) 0%,
      hsl(210, 30%, 9%) 50%,
      hsl(220, 25%, 10%) 100%
    );
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .dynamic-background {
    background: var(--bg-primary, hsl(0, 0%, 100%)) !important;
    animation: none !important;
  }
  
  .dynamic-background::before {
    display: none !important;
  }
}

/* Battery optimization */
@media (prefers-reduced-data: reduce) {
  .dynamic-background {
    animation: none;
    background: var(--bg-primary, hsl(0, 0%, 100%));
  }
  
  .dynamic-background::before {
    display: none;
  }
}