{"file":"client/src/constants/columnLayout.ts","lines":"153-155","symbol":"getColumnByType","kind":"function","export":"named","signature":"(type: string): ColumnSlot | undefined","governs":{"ui":"none","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"returns undefined if not found","dependencies":["COLUMN_LAYOUT"]},"calls":["find"],"called_by":["column management","layout systems"],"related_files":[],"query_or_table_refs":[],"notes":"Column finder by type: searches COLUMN_LAYOUT for matching type, returns slot config or undefined"}
{"file":"client/src/constants/columnLayout.ts","lines":"157-159","symbol":"getColumnById","kind":"function","export":"named","signature":"(id: string): ColumnSlot | undefined","governs":{"ui":"none","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"returns undefined if not found","dependencies":["COLUMN_LAYOUT"]},"calls":["find"],"called_by":["column management","layout systems"],"related_files":[],"query_or_table_refs":[],"notes":"Column finder by ID: searches COLUMN_LAYOUT for matching id, returns slot config or undefined"}
{"file":"client/src/constants/columnLayout.ts","lines":"161-179","symbol":"getVisibleColumns","kind":"function","export":"named","signature":"(preferences: any, isGuest: boolean): ColumnSlot[]","governs":{"ui":"determines which columns are visible","state":"none","data":"none","routing":"none","side_effects":"none","auth":"guest mode restrictions","errors":"none","dependencies":["COLUMN_LAYOUT"]},"calls":["filter","sort"],"called_by":["column visibility systems","UI rendering"],"related_files":[],"query_or_table_refs":[],"notes":"Visibility calculator: handles reference/main always visible, guest restrictions, preference checks, position sorting"}
{"file":"client/src/constants/columnLayout.ts","lines":"181-204","symbol":"getColumnWidth","kind":"function","export":"named","signature":"(column: ColumnSlot, isMobile: boolean): string","governs":{"ui":"calculates column widths","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["none"]},"calls":["includes"],"called_by":["column width systems","CSS generation"],"related_files":[],"query_or_table_refs":[],"notes":"Width calculator: converts Tailwind to rem, applies CSS calc with --column-width-mult variable, handles mobile vs desktop"}
{"file":"client/src/constants/columnLayout.ts","lines":"207-219","symbol":"getTranslationSlots","kind":"function","export":"named","signature":"(activeTranslations: string[]): ColumnSlot[]","governs":{"ui":"manages translation slot allocation","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["COLUMN_LAYOUT"]},"calls":["filter","map"],"called_by":["translation management","column allocation"],"related_files":[],"query_or_table_refs":[],"notes":"Translation slot manager: maps active translations to column slots, first translation is main"}
{"file":"client/src/constants/columnLayout.ts","lines":"222-260","symbol":"getDataRequirements","kind":"function","export":"named","signature":"(visibleColumns: ColumnSlot[]): object","governs":{"ui":"none","state":"none","data":"determines data loading requirements","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["none"]},"calls":["forEach","push"],"called_by":["data loading gateway","BibleDataAPI"],"related_files":[],"query_or_table_refs":[],"notes":"Data gateway: analyzes visible columns to determine what data needs loading (translations, cross-refs, prophecy, notes, context)"}
{"file":"client/src/constants/layout.ts","lines":"2","symbol":"ROW_HEIGHT","kind":"constant","export":"named","signature":"number","governs":{"ui":"defines fixed row height for Bible verses","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["none"]},"calls":[],"called_by":["virtual scrolling","row calculations"],"related_files":[],"query_or_table_refs":[],"notes":"Row height constant: 120px fixed height for Bible verse rows in virtual scrolling"}
{"file":"client/src/offline/offlineDB.ts","lines":"27-40","symbol":"AnointedDB","kind":"class","export":"internal","signature":"class AnointedDB extends Dexie","governs":{"ui":"none","state":"none","data":"manages offline database schema","routing":"none","side_effects":"database creation","auth":"none","errors":"none","dependencies":["Dexie"]},"calls":["super","version","stores"],"called_by":["offline database system"],"related_files":[],"query_or_table_refs":["notes table","bookmarks table","highlights table"],"notes":"Offline DB class: IndexedDB schema with notes/bookmarks/highlights tables, pending column for sync tracking"}
{"file":"client/src/offline/offlineDB.ts","lines":"42","symbol":"db","kind":"constant","export":"named","signature":"AnointedDB","governs":{"ui":"none","state":"none","data":"provides offline database instance","routing":"none","side_effects":"database initialization","auth":"none","errors":"none","dependencies":["AnointedDB"]},"calls":["new AnointedDB"],"called_by":["offline operations","queue sync"],"related_files":["client/src/offline/queueSync.ts"],"query_or_table_refs":[],"notes":"Database instance: global offline database singleton for IndexedDB operations"}
{"file":"client/src/offline/queueSync.ts","lines":"4-16","symbol":"queueSync","kind":"function","export":"named","signature":"(): Promise<void>","governs":{"ui":"none","state":"none","data":"none","routing":"none","side_effects":"registers background sync or starts polling","auth":"none","errors":"none","dependencies":["window","serviceWorker","sync","pushPending"]},"calls":["window.navigator.serviceWorker.ready","reg.sync.register","pushPending","setInterval","console.log"],"called_by":["offline sync initialization"],"related_files":[],"query_or_table_refs":[],"notes":"Sync queue manager: registers background sync if supported, falls back to polling for offline-to-online data sync"}
{"file":"client/src/offline/queueSync.ts","lines":"18-55","symbol":"pushPending","kind":"function","export":"named","signature":"(): Promise<void>","governs":{"ui":"none","state":"none","data":"syncs pending offline data to Supabase","routing":"none","side_effects":"database reads/writes","auth":"requires implicit authentication","errors":"handles sync failures gracefully","dependencies":["db","supabase","notes/bookmarks/highlights tables"]},"calls":["db.notes.where","db.bookmarks.where","db.highlights.where","supabase.from","upsert","update","toArray","console.log"],"called_by":["queueSync","background sync"],"related_files":["client/src/offline/offlineDB.ts"],"query_or_table_refs":["notes table","bookmarks table","highlights table"],"notes":"Pending data pusher: syncs notes/bookmarks/highlights from IndexedDB to Supabase, handles conflicts, updates pending flags"}
{"file":"client/src/themes/registry.ts","lines":"29-145","symbol":"THEMES","kind":"constant","export":"named","signature":"Record<ThemeName, ThemeVars>","governs":{"ui":"defines all application themes","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["ThemeVars","ThemeName"]},"calls":[],"called_by":["theme application","theme switching"],"related_files":["client/src/utils/themeOptimizer.ts"],"query_or_table_refs":[],"notes":"Theme registry: 7 complete themes (light/dark/aurora/sepia/forest/cyberpunk/electric) with gradients, glass morphism, text colors"}
{"file":"client/src/hooks/useAdaptivePortraitColumns.ts","lines":"22-119","symbol":"calculatePrecisionPortraitWidths","kind":"function","export":"internal","signature":"(viewportWidth: number, viewportHeight: number): AdaptivePortraitConfig['adaptiveWidths']","governs":{"ui":"calculates adaptive column widths for portrait mode","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["none"]},"calls":["console.log","Math.max","Math.min","Math.floor"],"called_by":["useAdaptivePortraitColumns"],"related_files":[],"query_or_table_refs":[],"notes":"Portrait width calculator: 3-column system with equal main/cross-ref division, viewport-aware ref column, tablet/mobile breakpoints"}
{"file":"client/src/hooks/useAdaptivePortraitColumns.ts","lines":"121-236","symbol":"useAdaptivePortraitColumns","kind":"function","export":"named","signature":"(): AdaptivePortraitConfig","governs":{"ui":"manages adaptive column layout","state":"manages portrait configuration state","data":"none","routing":"none","side_effects":"updates CSS variables, event listeners","auth":"none","errors":"none","dependencies":["calculatePrecisionPortraitWidths","updateCSSVariables","useState","useEffect"]},"calls":["useState","useEffect","calculatePrecisionPortraitWidths","updateCSSVariables","window.addEventListener","requestAnimationFrame","setTimeout","console.log"],"called_by":["responsive column systems"],"related_files":[],"query_or_table_refs":[],"notes":"Adaptive portrait hook: portrait detection, responsive widths, CSS variable updates, resize/orientation listeners"}
{"file":"client/src/hooks/useColumnKeys.ts","lines":"1-9","symbol":"useColumnKeys export","kind":"export","export":"named","signature":"{ useColumnKeys }","governs":{"ui":"none","state":"provides memoized column keys","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["translationSlice"]},"calls":[],"called_by":["column management systems"],"related_files":["client/src/store/translationSlice.ts"],"query_or_table_refs":[],"notes":"Column keys hook export: re-exports useColumnKeys from translation slice for O(1) column key access"}
{"file":"client/src/hooks/useHashParams.ts","lines":"3-37","symbol":"useHashParams","kind":"function","export":"named","signature":"(): { hashParams: Record<string, string>, updateHashParams: (params: Record<string, string>) => void }","governs":{"ui":"none","state":"manages URL hash parameters state","data":"none","routing":"manages URL hash routing","side_effects":"URL hash changes, event listeners","auth":"none","errors":"none","dependencies":["useState","useCallback","useEffect"]},"calls":["useState","useCallback","useEffect","Object.entries","map","join","encodeURIComponent","decodeURIComponent","window.location","window.addEventListener","split","slice"],"called_by":["URL parameter management","routing systems"],"related_files":[],"query_or_table_refs":[],"notes":"Hash params hook: URL hash parsing and updating, hashchange listener, encode/decode handling"}
{"file":"client/src/hooks/useOnlineStatus.ts","lines":"3-20","symbol":"useOnlineStatus","kind":"function","export":"named","signature":"(): boolean","governs":{"ui":"none","state":"manages online status state","data":"none","routing":"none","side_effects":"event listeners","auth":"none","errors":"none","dependencies":["useState","useEffect","navigator.onLine"]},"calls":["useState","useEffect","navigator.onLine","window.addEventListener"],"called_by":["offline functionality","sync systems"],"related_files":[],"query_or_table_refs":[],"notes":"Online status hook: tracks network connectivity, online/offline event listeners, boolean status"}
{"file":"client/src/utils/columnWidth.ts","lines":"15-17","symbol":"getColumnPixelWidth","kind":"function","export":"named","signature":"(widthRem: number): string","governs":{"ui":"converts rem to pixel width","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["none"]},"calls":[],"called_by":["column width calculations"],"related_files":[],"query_or_table_refs":[],"notes":"Rem to pixel converter: 1rem = 16px standard conversion for exact width calculations"}
{"file":"client/src/utils/columnWidth.ts","lines":"23-31","symbol":"getSlotWidth","kind":"function","export":"named","signature":"(columnState: { columns: ColumnInfo[] }, slot: number): string","governs":{"ui":"gets column width by slot number","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"returns fallback on missing slot","dependencies":["getColumnPixelWidth","ColumnInfo"]},"calls":["find","console.warn","getColumnPixelWidth"],"called_by":["column rendering","width calculations"],"related_files":[],"query_or_table_refs":[],"notes":"Slot width finder: finds column by slot number, converts rem to pixels, 160px fallback"}
{"file":"client/src/utils/columnWidth.ts","lines":"37-41","symbol":"getRemToTailwindClass","kind":"function","export":"named","signature":"(widthRem: number): string","governs":{"ui":"converts rem to Tailwind class","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["none"]},"calls":["Math.round"],"called_by":["Tailwind compatibility","CSS generation"],"related_files":[],"query_or_table_refs":[],"notes":"Tailwind converter: rem to w-X class mapping using 0.25rem standard, backward compatibility"}
{"file":"client/src/pages/SetupPage.tsx","lines":"19-46","symbol":"SetupPage","kind":"function","export":"named","signature":"(): JSX.Element","governs":{"ui":"renders setup and testing interface","state":"manages setup completion state","data":"none","routing":"none","side_effects":"runs user data tests","auth":"uses user context","errors":"handles test failures","dependencies":["useAuth","useToast","runUserDataTests","useState"]},"calls":["useState","useAuth","useToast","runUserDataTests","Object.values","reduce","Math.round","toast","console.error"],"called_by":["setup page routing"],"related_files":["client/src/tests/userDataTests.ts","client/src/components/setup/DatabaseInitializer.tsx"],"query_or_table_refs":[],"notes":"Setup page component: database initialization, user data testing, navigation history demo, autosave info, tabbed interface"}
{"file":"client/src/pages/Subscribe.tsx","lines":"15-65","symbol":"SubscribeForm","kind":"function","export":"internal","signature":"(): JSX.Element","governs":{"ui":"renders Stripe payment form","state":"none","data":"none","routing":"redirects after payment","side_effects":"processes payments","auth":"none","errors":"handles payment failures","dependencies":["useStripe","useElements","useToast","useLocation"]},"calls":["useStripe","useElements","useToast","useLocation","stripe.confirmPayment","toast","setLocation"],"called_by":["Subscribe component"],"related_files":[],"query_or_table_refs":[],"notes":"Stripe payment form: payment element integration, success/failure handling, divine styling"}
{"file":"client/src/pages/Subscribe.tsx","lines":"67-189","symbol":"Subscribe","kind":"function","export":"default","signature":"(): JSX.Element","governs":{"ui":"renders subscription page","state":"manages loading and error states","data":"none","routing":"none","side_effects":"creates Stripe subscription intent","auth":"none","errors":"handles subscription errors","dependencies":["useState","useEffect","useLocation","apiRequest","Elements"]},"calls":["useState","useEffect","useLocation","apiRequest","console.error","setClientSecret","setError","setIsLoading","setLocation"],"called_by":["subscription routing"],"related_files":["client/src/lib/queryClient.ts"],"query_or_table_refs":[],"notes":"Subscription page: Stripe integration, divine-themed design, loading/error states, $12/month community membership"}
{"file":"client/src/utils/themeOptimizer.ts","lines":"15-24","symbol":"ThemeManager","kind":"class","export":"named","signature":"class ThemeManager","governs":{"ui":"manages theme application","state":"manages theme state and performance metrics","data":"none","routing":"none","side_effects":"updates CSS variables and DOM","auth":"none","errors":"none","dependencies":["OptimizedTheme"]},"calls":["Map","performance.now"],"called_by":["theme management systems"],"related_files":[],"query_or_table_refs":[],"notes":"Theme manager singleton: performance monitoring, CSS variable caching, memory optimization, batch updates"}
{"file":"client/src/utils/themeOptimizer.ts","lines":"81-86","symbol":"getInstance","kind":"function","export":"static","signature":"(): ThemeManager","governs":{"ui":"none","state":"manages singleton instance","data":"none","routing":"none","side_effects":"creates instance if needed","auth":"none","errors":"none","dependencies":["ThemeManager"]},"calls":[],"called_by":["theme system initialization"],"related_files":[],"query_or_table_refs":[],"notes":"Singleton getter: ensures single ThemeManager instance across application"}
{"file":"client/src/utils/themeOptimizer.ts","lines":"96-128","symbol":"applyTheme","kind":"function","export":"public","signature":"(themeId: string): void","governs":{"ui":"applies theme to DOM","state":"updates applied theme state","data":"none","routing":"none","side_effects":"updates CSS variables, DOM classes","auth":"none","errors":"warns on missing theme","dependencies":["clearCurrentTheme","applyThemeVariables","applyFontFamily"]},"calls":["find","console.warn","performance.now","clearCurrentTheme","applyThemeVariables","applyFontFamily","console.log","scheduleMemoryCleanup"],"called_by":["theme switching"],"related_files":[],"query_or_table_refs":[],"notes":"Theme applicator: clears previous theme, applies variables in batch, performance monitoring, memory cleanup"}
{"file":"client/src/utils/documentLoader.ts","lines":"2-13","symbol":"loadDocument","kind":"function","export":"named","signature":"(filename: string): Promise<string>","governs":{"ui":"none","state":"none","data":"loads markdown documents","routing":"none","side_effects":"HTTP requests","auth":"none","errors":"throws on load failure","dependencies":["fetch"]},"calls":["fetch","response.text","console.error"],"called_by":["document display systems"],"related_files":[],"query_or_table_refs":[],"notes":"Document loader: fetches markdown files from important_docs directory, error handling"}
{"file":"client/src/utils/documentLoader.ts","lines":"16-85","symbol":"availableDocuments","kind":"constant","export":"named","signature":"object","governs":{"ui":"none","state":"none","data":"defines available documentation","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["none"]},"calls":[],"called_by":["document management","navigation"],"related_files":[],"query_or_table_refs":[],"notes":"Document registry: 14 available documents (privacy, ToS, policies, pricing, etc.) with filenames and titles"}
{"file":"client/src/lib/verseIndexMap.ts","lines":"16-30","symbol":"getVerseIndexMap","kind":"function","export":"named","signature":"(): Map<string, number>","governs":{"ui":"none","state":"manages verse index cache","data":"none","routing":"none","side_effects":"creates global cache","auth":"none","errors":"none","dependencies":["getVerseKeys","verseIndexMap"]},"calls":["console.log","getVerseKeys","Map","forEach","set"],"called_by":["verse navigation","index lookups"],"related_files":["client/src/lib/verseKeysLoader.ts"],"query_or_table_refs":[],"notes":"Verse index map creator: O(1) lookup cache for 31,102 verses, singleton pattern"}
{"file":"client/src/lib/verseIndexMap.ts","lines":"35-43","symbol":"getVerseIndex","kind":"function","export":"named","signature":"(verseRef: string): number","governs":{"ui":"none","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"returns -1 if not found","dependencies":["getVerseIndexMap"]},"calls":["getVerseIndexMap","includes","replace","get"],"called_by":["verse navigation","scroll positioning"],"related_files":[],"query_or_table_refs":[],"notes":"Fast verse lookup: O(1) index retrieval, handles space/dot format normalization, -1 fallback"}
{"file":"client/src/lib/verseIndexMap.ts","lines":"48-51","symbol":"clearVerseIndexCache","kind":"function","export":"named","signature":"(): void","governs":{"ui":"none","state":"clears verse index cache","data":"none","routing":"none","side_effects":"nullifies global cache","auth":"none","errors":"none","dependencies":["verseIndexMap"]},"calls":["console.log"],"called_by":["verse key changes","cache invalidation"],"related_files":[],"query_or_table_refs":[],"notes":"Cache clearer: invalidates verse index map for chronological vs canonical switching"}
{"file":"client/src/hooks/useAdaptiveScaling.ts","lines":"7-74","symbol":"useAdaptiveScaling","kind":"function","export":"named","signature":"(): void","governs":{"ui":"manages adaptive UI scaling","state":"none","data":"none","routing":"none","side_effects":"updates CSS variables, event listeners","auth":"none","errors":"none","dependencies":["useEffect","window","document"]},"calls":["useEffect","window.innerWidth","window.innerHeight","Math.round","document.documentElement.style.setProperty","window.addEventListener"],"called_by":["responsive UI systems"],"related_files":[],"query_or_table_refs":[],"notes":"Adaptive scaling hook: portrait/landscape detection, header/menu scaling, CSS variable updates, orientation-aware heights"}
{"file":"client/src/hooks/useBibleInit.ts","lines":"10-56","symbol":"useBibleInit","kind":"function","export":"named","signature":"(): { translationWarning: boolean, isInitialized: boolean }","governs":{"ui":"sets warning flags","state":"manages initialization state","data":"none","routing":"none","side_effects":"toast notifications","auth":"none","errors":"handles missing verses","dependencies":["useTranslationMaps","useToast","useState","useEffect"]},"calls":["useState","useEffect","useTranslationMaps","useToast","console.log","console.warn","filter","getVerseText","setTranslationWarning","setIsInitialized","toast"],"called_by":["Bible initialization","boot-time checks"],"related_files":[],"query_or_table_refs":[],"notes":"Bible init hook: boot-time smoke test, translation completeness check, warning flag for TopHeader badge"}
{"file":"client/src/hooks/useBodyClass.ts","lines":"3-10","symbol":"useBodyClass","kind":"function","export":"named","signature":"(className: string | null, condition: boolean): void","governs":{"ui":"manages body CSS classes","state":"none","data":"none","routing":"none","side_effects":"adds/removes body classes","auth":"none","errors":"none","dependencies":["useEffect","document.body"]},"calls":["useEffect","document.body.classList.add","document.body.classList.remove"],"called_by":["conditional styling","theme systems"],"related_files":[],"query_or_table_refs":[],"notes":"Body class hook: conditional class application to document body, cleanup on unmount"}
{"file":"client/src/hooks/useContextBoundaries.ts","lines":"18-107","symbol":"useContextBoundaries","kind":"function","export":"named","signature":"(): object","governs":{"ui":"none","state":"manages context boundary state","data":"loads context groups","routing":"none","side_effects":"none","auth":"none","errors":"handles loading failures","dependencies":["getContextGroups","useState","useEffect"]},"calls":["useState","useEffect","getContextGroups","Map","forEach","set","get","console.log","console.error"],"called_by":["context boundary systems","verse grouping"],"related_files":["client/src/data/BibleDataAPI.ts"],"query_or_table_refs":[],"notes":"Context boundaries hook: loads verse groups, pipe-to-dot format conversion, boundary detection, group membership"}
{"file":"client/src/hooks/useContextBoundaries.ts","lines":"11-16","symbol":"convertToDotFormat","kind":"function","export":"internal","signature":"(verseId: string): string","governs":{"ui":"none","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["none"]},"calls":["split"],"called_by":["useContextBoundaries"],"related_files":[],"query_or_table_refs":[],"notes":"Format converter: transforms Gen|1|1 to Gen.1:1 for consistency"}
{"file":"client/src/hooks/useCrossRefLoader.ts","lines":"6-67","symbol":"useCrossRefLoader","kind":"function","export":"named","signature":"(verseKeys: string[], cfSet: 'cf1' | 'cf2'): void","governs":{"ui":"none","state":"manages loading state","data":"loads cross-reference data","routing":"none","side_effects":"HTTP range requests","auth":"none","errors":"handles loading failures","dependencies":["getCrossRefsBatch","useBibleStore","useEffect","useRef"]},"calls":["useEffect","useRef","filter","forEach","add","getCrossRefsBatch","Object.entries","delete","setCrossRefs","console.log","console.error"],"called_by":["cross-reference loading","verse display"],"related_files":["client/src/data/BibleDataAPI.ts","client/src/App.tsx"],"query_or_table_refs":[],"notes":"Cross-ref loader hook: batch loading with HTTP range requests, duplicate prevention, center-anchored optimization"}
{"file":"client/src/hooks/useDebouncedEffect.ts","lines":"3-12","symbol":"useDebouncedEffect","kind":"function","export":"named","signature":"(callback: () => void, deps: React.DependencyList, delay: number): void","governs":{"ui":"none","state":"none","data":"none","routing":"none","side_effects":"delayed callback execution","auth":"none","errors":"none","dependencies":["useEffect","setTimeout","clearTimeout"]},"calls":["useEffect","setTimeout","clearTimeout"],"called_by":["debounced operations","delayed updates"],"related_files":[],"query_or_table_refs":[],"notes":"Debounced effect hook: delays callback execution by specified time, clears timer on cleanup"}
{"file":"client/src/hooks/useDynamicLabels.ts","lines":"11-85","symbol":"useDynamicLabels","kind":"function","export":"named","signature":"(props: UseDynamicLabelsProps): object","governs":{"ui":"none","state":"manages label loading and data state","data":"loads semantic label data","routing":"none","side_effects":"cache loading","auth":"none","errors":"handles loading failures","dependencies":["ensureLabelCacheLoaded","getLabelsForVerses","useState","useEffect","useCallback"]},"calls":["useState","useEffect","useCallback","ensureLabelCacheLoaded","getLabelsForVerses","filter","join","Array.from","console.log","console.error"],"called_by":["label display systems","viewport optimization"],"related_files":["client/src/lib/labelsCache.ts","client/src/lib/labelBits.ts"],"query_or_table_refs":[],"notes":"Dynamic labels hook: viewport base loading, additional verse expansion, label data merging, loading state management"}
{"file":"client/src/hooks/useElement.ts","lines":"7-27","symbol":"useElement","kind":"function","export":"named","signature":"(theme: string): RefObject<HTMLElement>","governs":{"ui":"manages theme-aware element attributes","state":"none","data":"none","routing":"none","side_effects":"DOM attribute updates","auth":"none","errors":"none","dependencies":["useRef","useEffect"]},"calls":["useRef","useEffect","setAttribute","removeAttribute"],"called_by":["theme-aware components"],"related_files":[],"query_or_table_refs":[],"notes":"Theme element hook: applies data-theme attribute, cleanup on unmount, eliminates mutation observers"}
{"file":"client/src/hooks/useElement.ts","lines":"33-39","symbol":"useMinimalThemeElement","kind":"function","export":"named","signature":"(): RefObject<HTMLElement>","governs":{"ui":"provides minimal theme element reference","state":"none","data":"none","routing":"none","side_effects":"none","auth":"none","errors":"none","dependencies":["useRef"]},"calls":["useRef"],"called_by":["performance-critical components"],"related_files":[],"query_or_table_refs":[],"notes":"Minimal theme element hook: CSS variable only, no theme logic, reduced memory footprint"}
{"file":"client/src/hooks/useHighlightCapture.ts","lines":"4-55","symbol":"useHighlightCapture","kind":"function","export":"named","signature":"(onSelect: (info: SelectionInfo) => void): void","governs":{"ui":"captures text selection for highlighting","state":"none","data":"none","routing":"none","side_effects":"mouse event listeners","auth":"requires user authentication","errors":"none","dependencies":["useAuth","useEffect","window.getSelection"]},"calls":["useAuth","useEffect","window.getSelection","getBoundingClientRect","document.addEventListener"],"called_by":["text highlighting systems","verse highlighting"],"related_files":["client/src/contexts/AuthContext.tsx"],"query_or_table_refs":[],"notes":"Highlight capture hook: text selection detection, verse-text element finding, coordinate capture, auth gating"}
{"file":"client/src/hooks/useLoadingDetection.ts","lines":"10-133","symbol":"useLoadingDetection","kind":"function","export":"named","signature":"(): LoadingState & { startLoading, stopLoading, detectAndStartLoading }","governs":{"ui":"manages loading state indicators","state":"tracks loading and connection state","data":"none","routing":"none","side_effects":"performance monitoring","auth":"none","errors":"none","dependencies":["useState","useEffect","useRef","navigator","performance"]},"calls":["useState","useEffect","useRef","Date.now","performance.timing","querySelectorAll","setLoadingState"],"called_by":["loading indicators","performance monitoring"],"related_files":[],"query_or_table_refs":[],"notes":"Loading detection hook: connection speed estimation, loading timing, auto-detection, performance-based updates"}
{"file":"client/src/hooks/useNoDiagonal.ts","lines":"4-43","symbol":"useNoDiagonalStrict","kind":"function","export":"named","signature":"(): { onWheel, onPointerDown, onPointerMove, onPointerUp }","governs":{"ui":"prevents diagonal scrolling","state":"tracks pointer state","data":"none","routing":"none","side_effects":"prevents browser diagonal scrolling","auth":"none","errors":"none","dependencies":["useRef"]},"calls":["useRef","Math.abs","preventDefault"],"called_by":["scroll controls","pointer event handling"],"related_files":[],"query_or_table_refs":[],"notes":"No-diagonal scroll hook: strict axis-locked scrolling, wheel/pointer events, touch/mouse drag support"}
{"file":"client/src/hooks/useNotesCache.ts","lines":"20-166","symbol":"useNotesCache","kind":"function","export":"named","signature":"(): object","governs":{"ui":"none","state":"manages notes cache state","data":"loads and caches user notes","routing":"none","side_effects":"database queries, cache updates","auth":"requires user authentication","errors":"handles loading failures","dependencies":["useAuth","supabase","useState","useEffect","useCallback","useRef"]},"calls":["useAuth","useState","useEffect","useCallback","useRef","supabase.from","select","eq","in","setTimeout","clearTimeout","Date.now","console.log","console.error"],"called_by":["notes display","user data systems"],"related_files":["client/src/contexts/AuthContext.tsx","shared/schema.ts"],"query_or_table_refs":["notes table"],"notes":"Notes cache hook: global cache, batch loading, pending request batching, 100ms window, force updates"}
{"file":"client/src/hooks/useOrientation.ts","lines":"4-20","symbol":"useOrientation","kind":"function","export":"named","signature":"(): 'portrait' | 'landscape'","governs":{"ui":"detects screen orientation","state":"manages orientation state","data":"none","routing":"none","side_effects":"media query listeners","auth":"none","errors":"none","dependencies":["useState","useEffect","matchMedia"]},"calls":["useState","useEffect","window.matchMedia","addEventListener","removeEventListener"],"called_by":["responsive layout","orientation-aware components"],"related_files":[],"query_or_table_refs":[],"notes":"Orientation hook: matchMedia-based detection, portrait/landscape strings, event listener cleanup"}
{"file":"client/src/hooks/usePremiumCheck.ts","lines":"6-31","symbol":"usePremiumCheck","kind":"function","export":"named","signature":"(): object","governs":{"ui":"none","state":"none","data":"none","routing":"none","side_effects":"none","auth":"checks premium tier","errors":"none","dependencies":["useAuth"]},"calls":["useAuth","includes"],"called_by":["premium feature gating","translation access"],"related_files":["client/src/contexts/AuthContext.tsx"],"query_or_table_refs":[],"notes":"Premium check hook: tier verification, translation access control, forum access, premium translations list"}
{"file":"client/src/hooks/usePreserveAnchor.ts","lines":"3-15","symbol":"usePreserveAnchor","kind":"function","export":"named","signature":"(): { preserveAnchor }","governs":{"ui":"manages scroll position preservation","state":"none","data":"none","routing":"none","side_effects":"updates container scroll position","auth":"none","errors":"none","dependencies":["useCallback"]},"calls":["useCallback"],"called_by":["scroll restoration","anchor preservation"],"related_files":[],"query_or_table_refs":[],"notes":"Anchor preservation hook: scroll position restoration, 120px row height calculation, container scrollTop updates"}