Below is a **step-by-step walkthrough** for the *two* things you asked to finish first:

* **A. Expose the DevTools route** (`/dev`)
* **B. Deploy the `redeem-code` edge function** to Supabase

Do these in order; nothing else has to change yet.

---

## A ．Expose `/dev`  (VITE\_SHOW\_DEVTOOLS)

### 1 ．Add the env-var in Replit

1. In your Replit workspace click **“Secrets”** (lock-icon, right rail).
2. Click **“+ Add new secret”**
3. Key → `VITE_SHOW_DEVTOOLS`
   Value → `true`
4. Press **“Add new secret”**.

*(If you ever move to local/dev containers, just put the same line in a `.env.local` file in the project root.)*

### 2 ．Restart the dev server

```bash
# kill the old dev process if it’s running
npm run dev      # or: pnpm dev / yarn dev / bun dev — whatever you use
```

> **Check:** open **`/dev`** in the preview url — you should see the DEV panel instead of a 404.

---

## B ．Deploy the `redeem-code` edge function

> **Prereqs:**
> • Supabase CLI installed (`npm i -g supabase` if you haven’t)
> • Your project already has `/supabase/functions/redeem-code/index.ts`

### 1 ．Authenticate the CLI (once per machine)

```bash
supabase login
# Browser opens → paste your personal access token OR do GitHub OAuth
```

### 2 ．Deploy the function

Run this **in the project root** (same folder that contains the `supabase` directory):

```bash
supabase functions deploy redeem-code
```

CLI output should end with something like:

```
✔ Deploying ‘redeem-code’ to project xxx... done
Function URL: https://<project-ref>.supabase.co/functions/v1/redeem-code
```

That URL is exactly what the React DevTools page calls.

*(If you update the function’s code later just re-run the same deploy command.)*

### 3 ．Verify quickly (optional)

```bash
curl -X POST \
  -H "Content-Type: application/json" \
  -d '{"code":"DEV-ALPHA-2025","uid":"test"}' \
  https://<project-ref>.supabase.co/functions/v1/redeem-code
```

Should respond with `{"message":"ok"}`.

---

### Done ✅

* Refresh **`/dev`** → the page now loads.
* Paste `DEV-ALPHA-2025`, click **Redeem** → should show “Success” (200 from the function).
* Reload **`/profile`** — tier is still “free” for now; we’ll wire that in step C later.

Let me know once these two work and we’ll move on to wiring the Upgrade button & fixing the bookmark query.
