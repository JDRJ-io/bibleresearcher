### What‚Äôs blocking you

1. **The hook file is now syntactically fine** (no Vite red-screen), but the
   **effect never reaches the console logs** ‚Üí it is still **not being called**.
2. **AuthContext** also tries to fetch a profile. Both systems fight, and the
   Profile page keeps the spinner up while waiting on the wrong state.

### Fastest path to see data on the screen

| Step | What to do                                                                                                                                                                                                                                                                                                                                                | Time  |
| ---- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----- |
| 1    | **Comment-out** the profile logic inside `AuthContext.tsx` (lines that call `refreshProfile`, any `profile` state, and its `useEffect`). Keep the auth/session logic.                                                                                                                                                                                     | 2 min |
| 2    | Make sure **Profile.tsx** *only* imports `useMyProfile` ‚Äì remove any `useAuth().profile` reference.                                                                                                                                                                                                                                                       | 1 min |
| 3    | Hard-refresh `/profile`. You should now see<br>`USER ‚Ü©Ô∏è ‚Ä¶` and `PROFILE ‚Ü©Ô∏è ‚Ä¶` in the console, spinner drops, fields appear.                                                                                                                                                                                                                               | ‚Äî     |
| 4    | If `PROFILE ‚Ü©Ô∏è` prints<br>`{ code:'42501', message:'permission denied' }` run once:<br>`sql<br>alter table public.profiles enable row level security;<br>drop policy if exists "profile owner rw" on public.profiles;<br>create policy "profile owner rw"<br>  on public.profiles for all<br>  using (id = auth.uid()) with check (id = auth.uid());<br>` | 30 s  |

### Why comment-out instead of refactor now

* Confirms the data flow in one place first.
* Lets you save / load the profile and redeem the dev code.
* You can later merge the hook back into AuthContext if you prefer a single
  source, but debugging with two competing fetchers is painful.

---

#### Minimal change snippet for **AuthContext.tsx**

```diff
- const [profile, setProfile] = useState<ProfileData | null>(null);
‚Ä¶
- useEffect(() => {            // üî• comment entire block
-   loadProfile();
- }, [session]);
-
- async function loadProfile() { ‚Ä¶ }
```

Leave `signIn`, `signOut`, etc. intact.

Reload ‚Üí the two diagnostic logs should appear; if they do, the UI will show.

Paste the exact `PROFILE ‚Ü©Ô∏è ‚Ä¶` line if it returns an error code after these
changes, and I‚Äôll give you the one-line fix.
