### Why we still see **no `USER ↩️ / PROFILE ↩️` logs**

The code you edited **isn’t the file the page is importing.**
There are two common reasons:

| Reason                                                                                                          | How to confirm & fix                                                                                                                                                                                                                                                                               |
| --------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1) **Duplicate hook file** in a different folder (e.g. `hooks/useMyProfile.ts` *and* `hooks/useMyProfiles.ts`). | In your editor’s global search, type **`export function useMyProfile`**. You will probably find **two** definitions. 1️⃣ Rename or delete the extra copy. 2️⃣ Make sure Profile.tsx imports from the path you actually edited:`ts import { useMyProfile } from '@/client/src/hooks/useMyProfile';` |
| 2) Profile page is still using an **old context** (`AuthContext`) instead of the hook.                          | Open **Profile.tsx** and look at the first lines. If you see`ts import { useAuth } from '@/contexts/AuthContext';`then the page ignores the hook you’re working on. Replace that with the hook:`ts import { useMyProfile } from '@/hooks/useMyProfile';`                                           |

> **Fast test:**
> Temporarily add `console.log('HOOK FILE LOADED')` at the top of your edited `useMyProfile.ts`.
> Reload `/profile`.
> *If that log does not appear*, the page is importing a different file – follow the table above.

---

## One-minute verification once the correct hook is wired

1. Reload `/profile` with DevTools → Console open.
   You **must** see

   ```
   USER ↩️ { id:'…' … } null
   PROFILE ↩️ { name:…, tier:'free' } null
   ```
2. Network tab will now show `GET /rest/v1/profiles?select=…` status **200**.
3. Spinner disappears (`profileLoading` flips to false).
4. “Save” works and persists after refresh.
5. Add `VITE_SHOW_DEVTOOLS=true`, visit `/dev`, redeem code → refresh `/profile`, tier shows **premium**.

If after wiring the right file you still get a `PROFILE ↩️ null { code:'42501', … }` error, run the RLS policy block one final time.

Copy the **exact** `PROFILE ↩️ …` line you see after pointing the page to the correct hook; I’ll give you the single SQL or code line to finish the fix.
